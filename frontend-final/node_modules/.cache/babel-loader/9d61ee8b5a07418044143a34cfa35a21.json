{"ast":null,"code":"import React,{useEffect,useState}from'react';const SpotifyPlayer=()=>{const[player,setPlayer]=useState(null);const[deviceId,setDeviceId]=useState(null);const[error,setError]=useState(null);// üÜï\nuseEffect(()=>{const token=localStorage.getItem('spotify_token');if(!token)return;const script=document.createElement('script');script.src='https://sdk.scdn.co/spotify-player.js';script.async=true;document.body.appendChild(script);window.onSpotifyWebPlaybackSDKReady=()=>{const newPlayer=new window.Spotify.Player({name:'Moodify Player',getOAuthToken:cb=>cb(token),volume:0.5});newPlayer.addListener('ready',_ref=>{let{device_id}=_ref;console.log('‚úÖ Spotify player ready with device ID:',device_id);localStorage.setItem('device_id',device_id);setDeviceId(device_id);});newPlayer.addListener('initialization_error',_ref2=>{let{message}=_ref2;console.error('Initialization Error:',message);setError(message);// üÜï\n});newPlayer.addListener('authentication_error',_ref3=>{let{message}=_ref3;console.error('Auth Error:',message);setError(message);// üÜï\n});newPlayer.addListener('account_error',_ref4=>{let{message}=_ref4;console.error('Account Error:',message);setError(\"This feature requires Spotify Premium.\");});newPlayer.addListener('playback_error',_ref5=>{let{message}=_ref5;console.error('Playback Error:',message);setError(message);// üÜï\n});newPlayer.connect().then(success=>{if(!success){console.error(\"‚ùå Player connection failed (likely no Premium).\");setError(\"Spotify Web Playback only works with Premium accounts.\");}});setPlayer(newPlayer);};},[]);return/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"10px\",backgroundColor:\"#222\",color:\"#fff\"}},/*#__PURE__*/React.createElement(\"p\",null,\"\\uD83C\\uDFB5 Spotify Web Playback Initialized\"),error?/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},\"\\u26A0\\uFE0F \",error):deviceId?/*#__PURE__*/React.createElement(\"p\",null,\"Device ID: \",deviceId):/*#__PURE__*/React.createElement(\"p\",null,\"Waiting for device ID...\"));};export default SpotifyPlayer;","map":{"version":3,"names":["React","useEffect","useState","SpotifyPlayer","player","setPlayer","deviceId","setDeviceId","error","setError","token","localStorage","getItem","script","document","createElement","src","async","body","appendChild","window","onSpotifyWebPlaybackSDKReady","newPlayer","Spotify","Player","name","getOAuthToken","cb","volume","addListener","_ref","device_id","console","log","setItem","_ref2","message","_ref3","_ref4","_ref5","connect","then","success","style","padding","backgroundColor","color"],"sources":["/Users/rutvikzalavadiya/Desktop/capstone-1/capstone/frontend-final/src/SpotifyPlayer.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst SpotifyPlayer = () => {\n  const [player, setPlayer] = useState(null);\n  const [deviceId, setDeviceId] = useState(null);\n  const [error, setError] = useState(null); // üÜï\n\n  useEffect(() => {\n    const token = localStorage.getItem('spotify_token');\n    if (!token) return;\n\n    const script = document.createElement('script');\n    script.src = 'https://sdk.scdn.co/spotify-player.js';\n    script.async = true;\n    document.body.appendChild(script);\n\n    window.onSpotifyWebPlaybackSDKReady = () => {\n      const newPlayer = new window.Spotify.Player({\n        name: 'Moodify Player',\n        getOAuthToken: cb => cb(token),\n        volume: 0.5,\n      });\n\n      newPlayer.addListener('ready', ({ device_id }) => {\n        console.log('‚úÖ Spotify player ready with device ID:', device_id);\n        localStorage.setItem('device_id', device_id);\n        setDeviceId(device_id);\n      });\n\n      newPlayer.addListener('initialization_error', ({ message }) => {\n        console.error('Initialization Error:', message);\n        setError(message); // üÜï\n      });\n\n      newPlayer.addListener('authentication_error', ({ message }) => {\n        console.error('Auth Error:', message);\n        setError(message); // üÜï\n      });\n\n      newPlayer.addListener('account_error', ({ message }) => {\n        console.error('Account Error:', message);\n        setError(\"This feature requires Spotify Premium.\");\n      });\n\n      newPlayer.addListener('playback_error', ({ message }) => {\n        console.error('Playback Error:', message);\n        setError(message); // üÜï\n      });\n\n      newPlayer.connect().then(success => {\n        if (!success) {\n          console.error(\"‚ùå Player connection failed (likely no Premium).\");\n          setError(\"Spotify Web Playback only works with Premium accounts.\");\n        }\n      });\n\n      setPlayer(newPlayer);\n    };\n  }, []);\n\n  return (\n    <div style={{ padding: \"10px\", backgroundColor: \"#222\", color: \"#fff\" }}>\n      <p>üéµ Spotify Web Playback Initialized</p>\n      {error ? (\n        <p style={{ color: \"red\" }}>‚ö†Ô∏è {error}</p>\n      ) : deviceId ? (\n        <p>Device ID: {deviceId}</p>\n      ) : (\n        <p>Waiting for device ID...</p>\n      )}\n    </div>\n  );\n};\n\nexport default SpotifyPlayer;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}